<!DOCTYPE html>
<html>
<head>
<title>Dictionary</title>
</head>
<body>
<h1>Dictionary</h1>
<p id="aboutGuessedWords"></p>
<style>
body {
	background-color:#87da90cc;
}
p {
	font-size: 20px;
	font-style: serif;
}
</style>


<script>
// Create a list of objects
//{word:"", description: ""},
var wordsWithDescriptions = [
{word:"forehead", description: "the flat part of the face, above the eyes and below the hair: She's got a high ... ."},
{word:"scenery", description: " the general appearance of the natural environment, especially when it is beautiful: They stopped at the top of the hill to admire the ... ."},
{word:"embark", description: "to go onto a ship: We ...ed at Liverpool for New York."},
{word:"cohesion", description: "the situation when the members of a group or society are united: social/national ..."},
{word:"throw", description: "to send something through the air with force, especially by a sudden movement of the arm: My friend ... the ball back over the fence."},
{word:"squat", description: "to position yourself close to the ground balancing on the front part of your feet with your legs bent under your body: She ...ted on the ground and warmed her hands by the fire."},
{word:"apprentice", description: "someone who has agreed to work for a skilled person for a particular period of time and often for low payment, in order to learn that person's skills: Most of the work was done by ...s."},
{word:"acclaim", description: "public approval and praise: Despite the critical ... , the novel did not sell well."},
{word:"clerical", description: "relating to work done in an office: a ... job (= a job performing general office duties)."},
{word:"filthy", description: "extremely or unpleasantly dirty: Wash your hands - they're ... !"}
]; 

//Define how many words we have in the beginning of game
const howManyWordsWeHad = wordsWithDescriptions.length.toString();

//create a function for remove guessed element
function remove (array, randomObject) {
	const index = array.indexOf(randomObject);
	array.splice(index,1);
}

//Create a general loop

var guessedWords = 0
while (1 > 0) {


// Pick a random object
var randomObject = wordsWithDescriptions[(Math.floor(Math.random()*wordsWithDescriptions.length))];




// Pick a random word and description
var word = randomObject["word"];
var description = randomObject["description"]

//Define a final description massage
var finalDescription = description.replace("...", word.toUpperCase());


// Set up the answer array
var answerArray = [];
for (var i = 0; i < word.length; i++){
	answerArray[i] = "_";
}

var remainingLetters = word.length;
var score = remainingLetters;
var attemptsCounter = 0;


// The game loop

while (remainingLetters > 0 && score > 0) {


	//Show the player their progress
	alert(answerArray.join(" ")+ "   You have " + score +" attempts."+" Help: "+ description);
	//Get a guess from the player
	var guess = prompt("Guess a letter or whole word. Click Cancel to stop playing.").toLowerCase();
	if (guess === null) {
		// Exit the game loop
		break;


	} else if (guess === word) {
		answerArray = [word];
		remainingLetters = 0;


	} else {

		//Update the game state with the guess
		attemptsCounter=0;
		for (var j = 0; j < word.length; j++) {
			if (word[j] === guess && answerArray[j] === "_")  {
				answerArray[j] = guess;
				remainingLetters--;
				} 	
				else {attemptsCounter++;}
			}
		} 
	///decreasing points if the letter was wrong
	if (attemptsCounter === word.length) {score--;}
	}

	/// The end of the game loop


// Show the answer and congratulate the player

if (score === 0) {alert(answerArray.join(" "));
alert("Bad work! The answer was " + word.toUpperCase() + "! - " + finalDescription +" ("+guessedWords+" from "+ howManyWordsWeHad + " had been guessed)");
}
else {
alert(answerArray.join(" "));
guessedWords++;
alert("Good job! The answer was " + word.toUpperCase() + "! - " + finalDescription + " ("+guessedWords+" from "+ howManyWordsWeHad + " had been guessed)");

//remove guessed word from the array
remove (wordsWithDescriptions, randomObject);

}

//Add a little bit of stat to our final page
document.getElementById("aboutGuessedWords").innerHTML = "Wou! You know " + guessedWords + " from " + howManyWordsWeHad + " words at least! Very impressive!";

}



</script>
</body>
</html>
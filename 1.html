<!DOCTYPE html>
<html>
<head>
<title>Dictionary</title>
</head>
<body>
<h1>Dictionary</h1>
<p id="aboutGuessedWords"></p>
<style>
body {
	background-image: linear-gradient(black, gray);
}
p {
	font-size: 20px;
	font-style: serif;
}
</style>


<script>
// Create a list of objects
//{word:"", description: ""},
var wordsWithDescriptions = [
{word:"deputy", description: "a person who is given the power to do something instead of another person, or the person whose rank is immediately below that of the leader of an organization: I'd like you to meet Ann Gregory, my ... ."},
{word:"carpentry", description: "the skill or work of making and repairing wooden objects. Everyone kept his plantation under fence and men who were old but strong and who had some knowledge of ... were sent out to keep the fence in repair and often to build new ones."},
{word:"fraud", description: "the crime of getting money by deceiving people: She is suspected of complicity in the ... ."},
{word:"umpire", description: "a person who is present at a sports competition in order to make certain that the rules of that particular game are obeyed and to judge if particular actions are acceptable: a cricket/tennis ... "},
{word:"defeat", description: " the fact of losing against someone in a fight or competition, or when someone or something is made to fail: After their ... in battle, the soldiers surrendered."},
{word:"profound", description: "felt or experienced very strongly or in an extreme way: The invention of the contraceptive pill brought about ... changes in the lives of women."},
{word:"cynical", description: "believing that people are only interested in themselves and are not sincere: She has a pretty ... view of men."},
{word:"boggle", description: "to (cause something or someone to) have difficulty imagining or understanding something: My mind ...s at the amount of money they spend on food."},
{word:"jester", description: " a man in the past whose job was to tell jokes and make people laugh: a court ..."},
{word:"smuggling", description: "the act or process of taking things or people to or from a place secretly and often illegally: The murdered man is thought to have been involved in drug ... ."}
]; 

//Define how many words we have in the beginning of game
const howManyWordsWeHad = wordsWithDescriptions.length.toString();

//create a function for remove guessed element
function remove (array, randomObject) {
	const index = array.indexOf(randomObject);
	array.splice(index,1);
}

//Create a general loop

var guessedWords = 0
while (1 > 0) {


// Pick a random object
var randomObject = wordsWithDescriptions[(Math.floor(Math.random()*wordsWithDescriptions.length))];




// Pick a random word and description
var word = randomObject["word"];
var description = randomObject["description"]

//Define a final description massage
var finalDescription = description.replace("...", word.toUpperCase());


// Set up the answer array
var answerArray = [];
for (var i = 0; i < word.length; i++){
	answerArray[i] = "_";
}

var remainingLetters = word.length;
var score = remainingLetters;
var attemptsCounter = 0;


// The game loop

while (remainingLetters > 0 && score > 0) {


	//Show the player their progress
	alert(answerArray.join(" ")+ "   You have " + score +" attempts."+" Help: "+ description);
	//Get a guess from the player
	var guess = prompt("Guess a letter or whole word. Click Cancel to stop playing.").toLowerCase();
	if (guess === null) {
		// Exit the game loop
		break;


	} else if (guess === word) {
		answerArray = [word];
		remainingLetters = 0;


	} else {

		//Update the game state with the guess
		attemptsCounter=0;
		for (var j = 0; j < word.length; j++) {
			if (word[j] === guess && answerArray[j] === "_")  {
				answerArray[j] = guess;
				remainingLetters--;
				} 	
				else {attemptsCounter++;}
			}
		} 
	///decreasing points if the letter was wrong
	if (attemptsCounter === word.length) {score--;}
	}

	/// The end of the game loop


// Show the answer and congratulate the player

if (score === 0) {alert(answerArray.join(" "));
alert("Bad work! The answer was " + word.toUpperCase() + "! - " + finalDescription +" ("+guessedWords+" from "+ howManyWordsWeHad + " had been guessed)");
}
else {
alert(answerArray.join(" "));
guessedWords++;
alert("Good job! The answer was " + word.toUpperCase() + "! - " + finalDescription + " ("+guessedWords+" from "+ howManyWordsWeHad + " had been guessed)");

//remove guessed word from the array
remove (wordsWithDescriptions, randomObject);

}

//Add a little bit of stat to our final page
document.getElementById("aboutGuessedWords").innerHTML = "Wou! You know " + guessedWords + " from " + howManyWordsWeHad + " words at least! Very impressive!";

}



</script>
</body>
</html>
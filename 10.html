<!DOCTYPE html>
<html>
<head>
<title>Dictionary</title>
</head>
<body>
<h1>Dictionary</h1>
<p id="aboutGuessedWords"></p>
<style>
body {
	background-color:#87da90cc;
}
p {
	font-size: 20px;
	font-style: serif;
}
</style>


<script>
// Create a list of objects
//{word:"", description: ""},
var wordsWithDescriptions = [
{word:"lousy", description: "very bad: ... food/service"},
{word:"explicit", description: "clear and exact: I gave her very ... directions how to get here."},
{word:"erratic", description: "moving or behaving in a way that is not regular, certain, or expected: He drove in an ... course down the road."},
{word:"cosy", description: "comfortable and pleasant, especially (of a building) because of being small and warm: This room is nice and ... in the winter."},
{word:"tranquil", description: "calm and peaceful and without noise, violence, worry, etc.: She stared at the ... surface of the water."},
{word:"compel", description: "to force someone to do something: As a schoolboy he was ...led to wear shorts even in winter."},
{word:"prudence", description: "the state of being careful in the way you make decisions or spend money so that you avoid unnecessary risks: The challenge we are trying to meet is balancing financial ... with the need for success."},
{word:"hazard", description: "something that is dangerous and likely to cause damage: The busy traffic entrance was a ... to pedestrians."},
{word:"nail", description: "a small, thin piece of metal with one pointed end and one flat end that you hit into something with a hammer, especially in order to fasten or join it to something else: Hammer a ... into the wall and we'll hang the mirror from it."},
{word:"inner", description: "inside or contained within something else: Leading off the main hall is a series of small ... rooms."}
]; 

//Define how many words we have in the beginning of game
const howManyWordsWeHad = wordsWithDescriptions.length.toString();

//create a function for remove guessed element
function remove (array, randomObject) {
	const index = array.indexOf(randomObject);
	array.splice(index,1);
}

//Create a general loop

var guessedWords = 0
while (1 > 0) {


// Pick a random object
var randomObject = wordsWithDescriptions[(Math.floor(Math.random()*wordsWithDescriptions.length))];




// Pick a random word and description
var word = randomObject["word"];
var description = randomObject["description"]

//Define a final description massage
var finalDescription = description.replace("...", word.toUpperCase());


// Set up the answer array
var answerArray = [];
for (var i = 0; i < word.length; i++){
	answerArray[i] = "_";
}

var remainingLetters = word.length;
var score = remainingLetters;
var attemptsCounter = 0;


// The game loop

while (remainingLetters > 0 && score > 0) {


	//Show the player their progress
	alert(answerArray.join(" ")+ "   You have " + score +" attempts."+" Help: "+ description);
	//Get a guess from the player
	var guess = prompt("Guess a letter or whole word. Click Cancel to stop playing.").toLowerCase();
	if (guess === null) {
		// Exit the game loop
		break;


	} else if (guess === word) {
		answerArray = [word];
		remainingLetters = 0;


	} else {

		//Update the game state with the guess
		attemptsCounter=0;
		for (var j = 0; j < word.length; j++) {
			if (word[j] === guess && answerArray[j] === "_")  {
				answerArray[j] = guess;
				remainingLetters--;
				} 	
				else {attemptsCounter++;}
			}
		} 
	///decreasing points if the letter was wrong
	if (attemptsCounter === word.length) {score--;}
	}

	/// The end of the game loop


// Show the answer and congratulate the player

if (score === 0) {alert(answerArray.join(" "));
alert("Bad work! The answer was " + word.toUpperCase() + "! - " + finalDescription +" ("+guessedWords+" from "+ howManyWordsWeHad + " had been guessed)");
}
else {
alert(answerArray.join(" "));
guessedWords++;
alert("Good job! The answer was " + word.toUpperCase() + "! - " + finalDescription + " ("+guessedWords+" from "+ howManyWordsWeHad + " had been guessed)");

//remove guessed word from the array
remove (wordsWithDescriptions, randomObject);

}

//Add a little bit of stat to our final page
document.getElementById("aboutGuessedWords").innerHTML = "Wou! You know " + guessedWords + " from " + howManyWordsWeHad + " words at least! Very impressive!";

}



</script>
</body>
</html>